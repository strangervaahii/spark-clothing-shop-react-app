"use strict";(self.webpackChunkspark_clothing_shop=self.webpackChunkspark_clothing_shop||[]).push([[92],{673:function(e,a,s){s(2791);var t=s(6907),n=s(184);a.Z=function(e){var a=e.title;return(0,n.jsx)(t.B6,{children:(0,n.jsx)(t.ql,{children:(0,n.jsx)("title",{children:a})})})}},6092:function(e,a,s){s.r(a),s.d(a,{default:function(){return N}});var t=s(1413),n=s(9439),r=s(2791),i=s(7689),l=s(1087),c=s(673),d=s(2789),o=s(4165),m=s(3433),u=s(5861),h=s(5705),p=s(6157),x=s(7229),g=s(8007),j=s(1243),v=s(184),b=function(e){var a=e.product,s=e.setProductDetail,i=(0,r.useState)(!1),l=(0,n.Z)(i,2),c=l[0],d=l[1],b=(0,r.useState)(!1),f=(0,n.Z)(b,2),N=f[0],y=f[1],Z=(0,r.useState)(!1),w=(0,n.Z)(Z,2),q=w[0],B=w[1],C=function(){return B(!1)},R=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(n,r){var i,l,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.resetForm,l={id:Math.floor(1e4*Math.random()),name:n.name,email:n.email,message:n.message,phone:n.phone,rating:n.rating},c=(0,t.Z)((0,t.Z)({},a),{},{reviews:[].concat((0,m.Z)(a.reviews),[l])}),j.Z.put("http://localhost:5000/products/".concat(a.id),c).then((function(e){404!==e.status?(s(c),d(!1),y(!0)):(alert("error"),y(!1),d(!1))})).catch((function(e){alert("something went wrong try again!!!"),console.log(e),y(!1),d(!1)})),i({values:""});case 5:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}(),S=g.Ry({name:g.Z_().required("User Name is Required!!!!"),email:g.Z_().email("Invalid email format").required("email id is Required!!!!"),phone:g.Rx().required("A phone number is required"),message:g.Z_().required("Required!!!"),rating:g.Z_().required("Required")}),k=(0,h.TA)({initialValues:{name:"",email:"",phone:"",message:"",rating:""},onSubmit:R,validationSchema:S});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.Z,{variant:"primary",onClick:function(){return B(!0)},children:"Write a Review"}),(0,v.jsxs)(x.Z,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:q,onHide:C,children:[(0,v.jsx)(x.Z.Header,{closeButton:!0}),(0,v.jsx)(x.Z.Body,{children:(0,v.jsx)("div",{className:"p-5",children:(0,v.jsx)("div",{className:"col d-flex justify-content-center pb-5",children:(0,v.jsxs)("div",{className:"card w-100 contact-box",children:[(0,v.jsx)("h3",{className:"p-3 bg-primary text-white",children:"Review"}),(0,v.jsxs)("form",{className:"p-3",onSubmit:k.handleSubmit,children:[(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{htmlFor:"name",className:"form-label","data-testid":"nameLabel",children:"Enter Your Name"}),(0,v.jsx)("input",{type:"text",name:"name",className:"form-control",id:"name",placeholder:"Enter Your Name",value:k.values.name,onChange:k.handleChange,onBlur:k.handleBlur,"aria-label":"name-input"}),k.touched.name&&k.errors.name&&(0,v.jsx)("span",{className:"text-danger",children:k.errors.name})]}),(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{htmlFor:"email",className:"form-label","data-testid":"emailLabel",children:"Email address"}),(0,v.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",name:"email",placeholder:"Enter Your Email",value:k.values.email,onChange:k.handleChange,onBlur:k.handleBlur}),k.touched.email&&k.errors.email&&(0,v.jsx)("span",{className:"text-danger",children:k.errors.email}),(0,v.jsx)("div",{id:"emailHelp",className:"form-text",children:"Well never share your email with anyone else."})]}),(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{htmlFor:"phone",className:"form-label","data-testid":"phoneLabel",children:"Phone number"}),(0,v.jsx)("input",{type:"number",className:"form-control",name:"phone",placeholder:"Enter your phone number",id:"phone",value:k.values.phone,onChange:k.handleChange,onBlur:k.handleBlur}),k.touched.phone&&k.errors.phone&&(0,v.jsx)("span",{className:"text-danger",children:k.errors.phone})]}),(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{htmlFor:"rating",className:"form-label","data-testid":"ratingLabel",children:"Rating"}),(0,v.jsxs)("select",{className:"form-select",id:"rating",name:"rating","aria-label":"Default select example",value:k.values.rating,onChange:k.handleChange,onBlur:k.handleBlur,children:[(0,v.jsx)("option",{defaultValue:"Give Your Rating Here",children:"Give Your Rating Here"}),(0,v.jsx)("option",{value:"Excellent",children:"Excellent"}),(0,v.jsx)("option",{value:"Good",children:"Good"}),(0,v.jsx)("option",{value:"Medium",children:"Medium"}),(0,v.jsx)("option",{value:"Poor",children:"Poor"}),(0,v.jsx)("option",{value:"Very Bad",children:"Very Bad"})]}),k.touched.rating&&k.errors.rating&&(0,v.jsx)("span",{className:"text-danger",children:k.errors.rating})]}),(0,v.jsx)("label",{htmlFor:"messageArea",children:"Comments"}),(0,v.jsx)("textarea",{className:"form-control",placeholder:"Leave a comment here",id:"messageArea",name:"message",value:k.values.message,onChange:k.handleChange,onBlur:k.handleBlur}),k.touched.message&&k.errors.message&&(0,v.jsx)("span",{className:"text-danger",children:k.errors.message}),(0,v.jsxs)("div",{className:"pt-2",children:[!c&&(0,v.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:""===k.values.name,children:"Submit"}),c&&(0,v.jsx)("button",{type:"submit",className:"btn btn-info",children:"Uploading...."}),(0,v.jsx)("div",{children:N?(0,v.jsx)("div",{"data-testid":"isPending",className:"alert alert-success mt-3",children:"Saved Successfully"}):""})]})]})]})})})}),(0,v.jsx)(x.Z.Footer,{children:(0,v.jsx)(p.Z,{variant:"secondary",onClick:C,children:"Close"})})]})]})},f=function(e){var a=e.name,s=e.message;e.rating;return(0,v.jsx)("div",{className:"row mt-2","data-testid":"comment",children:(0,v.jsx)("div",{className:"col-md-12 mt-3",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body d-flex align-items-center",children:[(0,v.jsx)("img",{src:"./assets/images/avatar.png",alt:"profile picture"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h5",{className:"card-title mx-2",children:a}),(0,v.jsx)("p",{className:"card-text mx-2",children:s})]})]})})})})},N=function(){var e=(0,r.useState)(!0),a=(0,n.Z)(e,2),s=a[0],o=a[1],m=(0,r.useState)(!1),u=(0,n.Z)(m,2),h=u[0],p=u[1],x=(0,r.useState)([]),g=(0,n.Z)(x,2),j=g[0],N=g[1],y=(0,i.UO)().id,Z="http://localhost:5000/products/".concat(y);return(0,r.useEffect)((function(){(0,d.a)(Z).then((function(e){404!==e.status?(o(!1),p(!1),N(e)):(o(!1),p(!0),N([]))})).catch((function(e){console.log(e),o(!1),p(!0),N([])})).finally((function(){}))}),[Z]),s?(0,v.jsx)("div",{className:"text-center",children:(0,v.jsx)("div",{className:"spinner-border text-danger"})}):h?(0,v.jsx)("div",{className:"alert alert-danger",children:"Sorry! Unable to fetch product detail page ! Try Again Later"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{title:"ProductDetail"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)(l.OL,{to:"/products",children:(0,v.jsx)("button",{type:"button",className:"btn btn-primary p-2 my-2",children:(0,v.jsx)("i",{className:"fas fa-arrow-left",children:"Back"})})}),(0,v.jsx)("div",{className:"col-md-5",children:(0,v.jsx)("div",{className:"card md-3 shadow-sm border-removal",children:(0,v.jsx)("img",{src:j.imageUrl,alt:j.imgAltText,className:"card-img-top"})})},j.id),(0,v.jsxs)("div",{className:"col-md-7",children:[(0,v.jsx)("h5",{className:"mb-0",children:(0,v.jsxs)("span",{className:"badge text-bg-warning",children:["Best seller ","#"+j.bestSellerRanking]})}),(0,v.jsx)("p",{className:"card-text m-0 fs-1",children:j.name}),(0,v.jsx)("p",{className:"pt-0 text-secondary",children:j.description}),(0,v.jsx)("hr",{}),(0,v.jsx)("div",{className:"p-2 bd-highlight",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. At ultrices mi tempus imperdiet nulla malesuada pellentesque. Lacus sed viverra tellus in hac habitasse platea dictumst. Massa ultricies mi quis hendrerit dolor magna eget est lorem. Malesuada bibendum arcu vitae elementum curabitur vitae nunc. Mauris ultrices eros in cursus turpis massa tincidunt. Integer enim neque volutpat ac tincidunt vitae. Dis parturient montes nascetur ridiculus mus mauris vitae ultricies. Non blandit massa enim nec dui nunc mattis. Nulla at volutpat diam ut. Placerat duis ultricies lacus sed turpis tincidunt id aliquet risus. Tincidunt arcu non sodales neque sodales ut etiam. Vel pretium lectus quam id. Elementum tempus egestas sed sed risus pretium quam vulputate dignissim. Metus dictum at tempor commodo ullamcorper a lacus vestibulum. Dignissim suspendisse in est ante in. Arcu dui vivamus arcu felis bibendum. Dolor morbi non arcu risus quis."}),(0,v.jsxs)("div",{className:"d-flex flex-row align-items-center bd-highlight md-3",children:[(0,v.jsx)("p",{className:"p-2 bd-highlight fs-3",children:"Rs."+j.cost}),(0,v.jsx)("p",{className:"p-2 bd-highlight text-secondary",style:{textDecoration:"line-through"},children:"Rs."+j.maxRetailPrice}),(0,v.jsxs)("p",{className:"p-2 bd-highlight text-danger",children:["(",j.discountApplicable+"%OFF",")"]}),(0,v.jsx)("div",{className:"text-end",children:(0,v.jsxs)("p",{className:"p-2 bd-highlight",children:["Added On: ",j.added]})})]}),(0,v.jsx)("div",{className:"d-flex justify-content-end align-self-center",children:(0,v.jsx)(b,{product:j,setProductDetail:N})})]}),j.reviews.map((function(e){return(0,v.jsx)(f,(0,t.Z)({},e),e.id)}))]}),(0,v.jsx)(i.j3,{})]})}},2789:function(e,a,s){s.d(a,{a:function(){return t}});var t=function(e){return fetch(e).then((function(e){return 200===e.status||201===e.status?e.json():{status:e.status,error:new Error("Invalid Response")}})).catch((function(e){return e})).finally((function(){}))}}}]);
//# sourceMappingURL=92.46088845.chunk.js.map